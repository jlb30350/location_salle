<h1>Finalisation de la réservation</h1>

<!-- Afficher le nom de la salle -->
<p><strong>Nom de la salle :</strong> <%= @room.name %></p>

<!-- Afficher les dates sélectionnées -->
<p><strong>Date de début :</strong> <%= @booking.start_date.strftime('%d/%m/%Y') %></p>
<p><strong>Date de fin :</strong> <%= @booking.end_date.strftime('%d/%m/%Y') %></p>

<!-- Formulaire de finalisation -->
<%= form_with model: [@room, @booking], url: finalize_booking_room_booking_path(@room, @booking), method: :post, local: true do |form| %>

  <!-- Informations sur l'utilisateur (si besoin) -->
  <div class="form-group">
    <%= form.label :first_name, "Prénom" %>
    <%= form.text_field :first_name, value: @booking.first_name, class: "form-control" %>
  </div>

  <div class="form-group">
    <%= form.label :last_name, "Nom" %>
    <%= form.text_field :last_name, value: @booking.last_name, class: "form-control" %>
  </div>

  <div class="form-group">
    <%= form.label :email, "Adresse e-mail" %>
    <%= form.email_field :email, value: @booking.email, class: "form-control" %>
  </div>

  <!-- Boutons de finalisation -->
  <div class="form-group">
    <%= form.submit "Payer maintenant", name: "continue", class: "btn btn-primary" %>
    <%= form.submit "Demander un devis", name: "quote", class: "btn btn-secondary" %>
  </div>
<% end %>


  <!-- Bouton de retour -->
  <div class="form-group">
    <%= link_to 'Retour à la réservation', room_bookings_path(@room), class: 'btn btn-warning' %>
  </div>

  <!-- Bouton de modification -->
  <div class="form-group">
    <%= link_to 'Modifier la réservation', edit_room_booking_path(@room, @booking), class: 'btn btn-info' %>
  </div>
<% end %>
