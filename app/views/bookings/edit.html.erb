<!-- app/views/bookings/new.html.erb -->
<h2><%= @booking.persisted? ? 'Modifier' : 'Nouvelle' %> Réservation</h2>

<%= form_with(model: [@room, @booking]) do |f| %>
  <div class="form-group">
    <%= f.label :start_date, 'Date de début' %>
    <%= f.date_field :start_date, class: 'form-control', value: params[:start_date] || @booking.start_date %>
  </div>
  <div class="form-group">
    <%= f.label :end_date, 'Date de fin' %>
    <%= f.date_field :end_date, class: 'form-control', value: params[:end_date] || @booking.end_date %>
  </div>
  <div class="form-group">
    <%= f.label :number_of_guests, 'Nombre de participants' %>
    <%= f.number_field :number_of_guests, class: 'form-control', min: 1 %>
  </div>
  <div class="form-group">
    <%= f.submit 'Enregistrer', class: 'btn btn-primary' %>
  </div>
<% end %>

<%= link_to 'Annuler', room_availability_path(@room), class: 'btn btn-secondary' %>
<%= link_to 'Supprimer', room_booking_path(@room, @booking), method: :delete, data: { confirm: 'Êtes-vous sûr ?' }, class: 'btn btn-danger' if @booking.persisted? %>
